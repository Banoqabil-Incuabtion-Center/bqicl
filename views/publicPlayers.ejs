<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%= title %>
    </title>
    <link href="/css/styles.css" rel="stylesheet">
    <link href="/css/output.css" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --icl-green: #38b000;
            --icl-green-dark: #008000;
        }

        body {
            font-family: 'Outfit', sans-serif;
        }

        .glass {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .dark .glass {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        html:not(.dark) .glass {
            background: rgba(0, 0, 0, 0.03);
            border: 1px solid rgba(0, 0, 0, 0.08);
        }

        .icl-gradient-text {
            background: linear-gradient(135deg, #70e000, #38b000);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .sport-grid {
            background-image: radial-gradient(rgba(56, 176, 0, 0.1) 1px, transparent 1px);
            background-size: 30px 30px;
        }

        html:not(.dark) .sport-grid {
            background-image: radial-gradient(rgba(0, 128, 0, 0.1) 1px, transparent 1px);
        }
    </style>
</head>

<body
    class="text-gray-900 dark:text-gray-100 bg-white dark:bg-[#050a05] sport-grid min-h-screen flex flex-col pt-24 transition-colors duration-300">
    <%- include('partials/publicNavbar') %>

        <main class="max-w-7xl mx-auto px-4 py-12 flex-grow w-full">
            <header class="text-center mb-16">
                <h1 class="text-5xl md:text-7xl font-black italic uppercase icl-gradient-text mb-4">The Roster</h1>
                <p class="text-gray-600 dark:text-gray-400 font-medium">Meet the elite talent competing in the
                    Incubation Cricket League.</p>
            </header>

            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                <% players.forEach(player=> { %>
                    <div
                        class="glass rounded-3xl p-6 group hover:border-lime-500/30 transition-all border border-black/5 dark:border-white/5">
                        <div
                            class="relative w-full aspect-square rounded-2xl overflow-hidden mb-6 bg-gray-100 dark:bg-gray-900 border border-black/5 dark:border-white/5">
                            <img src="<%= player.playerImage || '/images/default-player.png' %>"
                                alt="<%= player.name %>"
                                class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
                            <div class="absolute bottom-4 left-4">
                                <span
                                    class="px-3 py-1 bg-lime-500 text-black text-[10px] font-black uppercase italic rounded-full shadow-lg">
                                    <%= player.auctionCategory || 'Player' %>
                                </span>
                            </div>
                        </div>
                        <div class="space-y-4">
                            <div>
                                <h3 class="text-xl font-bold uppercase italic text-gray-900 dark:text-white">
                                    <%= player.name %>
                                </h3>
                                <p class="text-lime-500 text-xs font-black uppercase tracking-widest mt-1">
                                    <%= player.category %>
                                </p>
                            </div>
                            <div
                                class="grid grid-cols-2 gap-2 text-[10px] font-bold uppercase tracking-widest text-gray-500">
                                <div class="bg-black/5 dark:bg-white/5 p-2 rounded-lg">
                                    <span class="block text-[8px] opacity-50 mb-0.5">Campus</span>
                                    <span class="text-gray-700 dark:text-gray-200">
                                        <%= player.campus || '---' %>
                                    </span>
                                </div>
                                <div class="bg-black/5 dark:bg-white/5 p-2 rounded-lg">
                                    <span class="block text-[8px] opacity-50 mb-0.5">Style</span>
                                    <span class="text-gray-700 dark:text-gray-200">
                                        <%= player.playingStyle || '---' %>
                                    </span>
                                </div>
                            </div>
                            <div
                                class="pt-4 border-t border-black/5 dark:border-white/5 flex justify-between items-center">
                                <a href="/players/<%= player.hashedId %>"
                                    class="text-[10px] font-black uppercase tracking-widest text-lime-400 hover:text-lime-300 transition-colors">
                                    View Profile <i class="fas fa-arrow-right text-[8px] ml-1"></i>
                                </a>
                                <div
                                    class="<%= player.isSold ? 'text-red-400' : 'text-green-400' %> text-xs font-black uppercase italic">
                                    <%= player.isSold ? 'Sold' : 'Available' %>
                                </div>
                            </div>
                        </div>
                    </div>
                    <% }) %>
            </div>

            <!-- Pagination -->
            <% if (totalPages> 1) { %>
                <div class="mt-20 flex justify-center gap-2">
                    <% if (currentPage> 1) { %>
                        <a href="?page=<%= currentPage - 1 %>"
                            class="w-10 h-10 glass rounded-lg flex items-center justify-center hover:bg-lime-500 hover:text-black transition-all"><i
                                class="fas fa-chevron-left"></i></a>
                        <% } %>
                            <% for(let i=1; i<=totalPages; i++) { %>
                                <a href="?page=<%= i %>"
                                    class="w-10 h-10 glass rounded-lg flex items-center justify-center transition-all <%= currentPage === i ? 'bg-lime-500 text-black font-bold' : 'hover:bg-white/10' %>">
                                    <%= i %>
                                </a>
                                <% } %>
                                    <% if (currentPage < totalPages) { %>
                                        <a href="?page=<%= currentPage + 1 %>"
                                            class="w-10 h-10 glass rounded-lg flex items-center justify-center hover:bg-lime-500 hover:text-black transition-all"><i
                                                class="fas fa-chevron-right"></i></a>
                                        <% } %>
                </div>
                <% } %>
        </main>

        <footer
            class="py-12 border-t border-black/5 dark:border-white/5 mt-20 opacity-50 text-center text-xs font-bold tracking-[0.2em] uppercase text-gray-400">
            &copy; <%= new Date().getFullYear() %> BICC INCUBATION CENTER
        </footer>
</body>

</html>